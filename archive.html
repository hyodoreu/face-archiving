<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>find ğŸ§‘â€ğŸ¦²</title>
    <style>
        body { 
            margin: 0;

            background-color: #E0FC61; 
        }
        .archive-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(204px, 1fr)); /* ìµœì†Œ ë„ˆë¹„ë¥¼ 100pxë¡œ ì„¤ì • */
            grid-auto-flow: dense; /* ì±„ì›Œì§€ëŠ” ë°©ì‹ ì¡°ì • */
            padding: 0px;
            gap:0px;
            margin-top: 20px;
            align-content: end; /* ìƒë‹¨ ì •ë ¬ */
            height: auto; /* ë†’ì´ë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ìŠ¤í¬ë¡¤ ê°€ëŠ¥ */
            overflow-y: auto; /* ì„¸ë¡œ ìŠ¤í¬ë¡¤ì´ ê°€ëŠ¥í•˜ê²Œ ì„¤ì • */
            transform: rotate(180deg); /* ì»¨í…Œì´ë„ˆë¥¼ ë’¤ì§‘ì–´ ì•„ë˜ì—ì„œ ìœ„ë¡œ ìŒ“ì´ê²Œ í•¨ */
        }
        .image-pair {
            margin-right: 5px;
            margin-left: 5px;
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative; /* ì ˆëŒ€ ìœ„ì¹˜ ì„¤ì •ì„ ìœ„í•œ ê¸°ì¤€ */
            transform: rotate(180deg); /* ê°œë³„ ì´ë¯¸ì§€ ìŒì„ ë‹¤ì‹œ ë’¤ì§‘ìŒ */
        }
        /*             clip-path: polygon(0% 10px, 10px 0%, calc(100% - 10px) 0%, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0% calc(100% - 10px)); /* ëª¨ì„œë¦¬ 10px ê°ì§€ê²Œ */
         .screenshot-image {

            transform: scaleX(-1); /* ì¢Œìš° ë°˜ì „ */

            aspect-ratio: 3 / 4.5; /* ì¦ëª…ì‚¬ì§„ ë¹„ìœ¨ */
            object-fit: cover; /* ë¹„ìœ¨ ìœ ì§€ */
            width: 100%; /* í­ì„ 100%ë¡œ ì„¤ì • */
            margin-bottom: 2px;    
        }
        .random-image {
            position: absolute; /* ë¶€ëª¨ì— ìƒëŒ€ì ì¸ ì ˆëŒ€ ìœ„ì¹˜ */
            bottom: 20px; /* ì•„ë˜ë¡œ 30px ìœ„ì¹˜ */
            left: 50%; /* ê°€ìš´ë° ì •ë ¬ */
            width: auto; /* í­ì„ ìë™ìœ¼ë¡œ ì„¤ì • */
            height: 6%; /* ë†’ì´ë¥¼ ì„¤ì • (í•„ìš” ì‹œ ì¡°ì • ê°€ëŠ¥) */
            object-fit: contain; /* ë¹„ìœ¨ ìœ ì§€í•˜ë©° ì™„ì „íˆ ë³´ì´ê²Œ */
            transform: translate(-50%, 0); /* ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•œ ë³€í™˜ */
            z-index: 1; /* ìŠ¤í¬ë¦°ìƒ· ìœ„ì— ìœ„ì¹˜í•˜ë„ë¡ ì„¤ì • */
        }
    </style>
</head>
<body>

    <div class="archive-container" id="archiveContainer"></div>

    <script>
    // IndexedDB ë°ì´í„°ë² ì´ìŠ¤ì™€ ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸° ì½”ë“œ ì¶”ê°€
    const archiveContainer = document.getElementById('archiveContainer');
    let db;

    // IndexedDB ë°ì´í„°ë² ì´ìŠ¤ ì—´ê¸°
    const request = indexedDB.open('myDatabase', 1);

    request.onsuccess = (event) => {
        db = event.target.result;
        clearDatabase(); // ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” í›„ ì´ë¯¸ì§€ ë¡œë“œ
    };

    request.onerror = (event) => {
        console.error('ë°ì´í„°ë² ì´ìŠ¤ ì—´ê¸° ì‹¤íŒ¨:', event);
    };



    // ì €ì¥ëœ ì´ë¯¸ì§€ ìŒì„ ë¡œë“œí•˜ì—¬ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
    function loadImages() {
        const transaction = db.transaction(['images'], 'readonly');
        const objectStore = transaction.objectStore('images');
        const request = objectStore.getAll(); // ëª¨ë“  ì´ë¯¸ì§€ ìŒ ê°€ì ¸ì˜¤ê¸°

        request.onsuccess = (event) => {
            const savedImages = event.target.result;
            archiveContainer.innerHTML = ''; // ì´ˆê¸°í™”
            savedImages.forEach(pair => {
                const pairDiv = document.createElement('div');
                pairDiv.classList.add('image-pair');

                const screenshot = document.createElement('img');
                screenshot.src = pair.screenshot;
                screenshot.alt = 'ìŠ¤í¬ë¦°ìƒ·';
                screenshot.classList.add('screenshot-image'); // í´ë˜ìŠ¤ ì¶”ê°€

                const randomImg = document.createElement('img');
                randomImg.src = pair.random;
                randomImg.alt = 'ëœë¤ ì´ë¯¸ì§€';
                randomImg.classList.add('random-image'); // í´ë˜ìŠ¤ ì¶”ê°€

                pairDiv.appendChild(screenshot);
                pairDiv.appendChild(randomImg); // random-imageë¥¼ ì§ì ‘ ì¶”ê°€
                archiveContainer.appendChild(pairDiv);
            });
        };

        request.onerror = (event) => {
            console.error('ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', event);
        };
    }

    // ì£¼ê¸°ì ìœ¼ë¡œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì—…ë°ì´íŠ¸ ê°ì§€ (ë¹„í™œì„±í™”)
    setInterval(loadImages, 1000); // 1ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸
</script>

</body>
</html>
